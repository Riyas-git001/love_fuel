(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const v of c.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&h(v)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function h(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();(function(){const C=[{id:"roast",label:"Roast your partner ðŸ”¥"},{id:"deep",label:"Deep confession ðŸ«£"},{id:"wyr",label:"Would you ratherâ€¦ ðŸ¤”"},{id:"whatif",label:"What ifâ€¦ ðŸŒ€"},{id:"pastlife",label:"Past life guess ðŸ”®"},{id:"dares",label:"Relationship dares ðŸŽ¯"},{id:"fun",label:"Fun challenges ðŸŽ‰"}],y={roast:["If your partner were a phone app, which one would they beâ€¦ and why would it be a bugged one?","On a scale of 1â€“â€˜forgets anniversariesâ€™, how chaotic is your partnerâ€™s memory?","Whatâ€™s your partnerâ€™s most adorable red flag? Yes, adorable. Explain yourself.","If your partner had a loading screen, what would the tip say?","Which browser tab is your partner: the one playing mystery audio, or the 49 others?"],deep:["Whatâ€™s one truth about love you didnâ€™t believe until this relationship?","Whatâ€™s a fear you rarely say out loud, but want your partner to know?","Which moment with your partner quietly changed you for the better?","If your love had a theme song, what would it be and why?","Confess a tiny insecurity that your partner accidentally comforts just by existing."],wyr:["Would you rather read your partnerâ€™s mind for a day or have them read yours?","Would you rather fight 100 duck-sized arguments or one horse-sized misunderstanding?","Would you rather never argue again or always make up with gourmet snacks?","Would you rather swap phones for a day or swap playlists for a week?","Would you rather time-travel to your first date or fast-forward to your cutest old-couple moment?"],whatif:["What if you woke up and we had swapped personalitiesâ€”whatâ€™s the first chaos youâ€™d cause?","What if we only had 24 hours with unlimited moneyâ€”how would we blow it?","What if a rom-com was based on usâ€”what would the most dramatic scene be?","What if we could instantly master a shared hobbyâ€”whatâ€™s our duo superpower?","What if you could erase one tiny habit of mine (be brave)â€”which one?"],pastlife:["Past life guess: Were they a dramatic poet or a sleepy housecat? Present evidence.","If your partner had a past life job, what was it and why is it â€˜Chief Snack Officerâ€™?","They give off â€˜retired pirateâ€™ energy. Confirm or deny with examples.","Which ancient civilization would have worshiped your partner and for what oddly specific reason?","Were they a mysterious librarian who knew every secret but forgot their keys?"],dares:["Dare: Make your partner laugh in 10 seconds. No tickling, you menace.","Dare: Compliment your partner in the style of a sports commentator.","Dare: Recreate your first photo together using whateverâ€™s around you.","Dare: Say â€˜I love youâ€™ in three ridiculous accents.","Dare: Swap phones and take one aesthetic photo for the other personâ€™s camera roll."],fun:["Challenge: Build a 30-second jingle about your relationship. Bonus points for harmonies.","Challenge: Describe each other using 3 emojis onlyâ€”no words.","Challenge: One-word story. Take turns adding one word until chaos.","Challenge: Choose a couple nickname that would make high school you cringe.","Challenge: Do a slow-motion high five like a movie finale."]},r=e=>document.getElementById(e),h=r("sparkText"),s=r("sparkCategory"),c=r("sparkBtn"),v=r("anotherBtn"),de=r("meterBtn"),J=r("meterFill"),Y=r("meterValue"),w=r("categoryChips"),b=r("surpriseMix"),_=r("streakCount"),O=r("toast"),p=r("youName"),f=r("partnerName"),S=r("soloMode"),A=r("plInput"),ue=r("plBtn"),Q=r("plPreview"),he=r("plResult"),W=document.getElementById("introOverlay"),H=document.getElementById("introArrow"),U=document.getElementById("introStart"),V=document.getElementById("introScreen1"),z=document.getElementById("introScreen2"),R=document.getElementById("introScreen3"),K=document.getElementById("teaseText"),E=document.getElementById("genderChips"),M=document.getElementById("genderNext"),me=document.getElementById("roastScreen"),ye=document.getElementById("roastMessage"),X=document.getElementById("roastExit"),I=document.getElementById("statusChips"),D=document.getElementById("statusNext"),Z=document.getElementById("singleScreen"),ee=document.getElementById("singleNext"),te=document.getElementById("findIdealType"),ne=document.getElementById("finalScreen"),P=document.getElementById("ratingGrid"),oe=document.getElementById("ratingSubmit"),pe="lovefuel_gender",L=[{id:"angry",label:"Angry Level ðŸ˜¤",emoji:"ðŸ˜¤"},{id:"caring",label:"Caring Level ðŸ’•",emoji:"ðŸ’•"},{id:"funny",label:"Funny Level ðŸ˜‚",emoji:"ðŸ˜‚"},{id:"romantic",label:"Romantic Level ðŸ’˜",emoji:"ðŸ’˜"},{id:"patient",label:"Patient Level ðŸ§˜",emoji:"ðŸ§˜"},{id:"adventurous",label:"Adventurous Level ðŸŒŸ",emoji:"ðŸŒŸ"}],fe=document.getElementById("soloQuiz"),x=document.getElementById("quizContainer"),B=document.getElementById("quizSubmit"),N=document.getElementById("quizReset"),ae=document.getElementById("quizResult"),u={streak:"lovefuel_streak",lastUsed:"lovefuel_last_used",categories:"lovefuel_categories",surprise:"lovefuel_surprise",names:"lovefuel_names"};function ge(){try{const e=JSON.parse(localStorage.getItem(u.categories)||"[]"),t=JSON.parse(localStorage.getItem(u.surprise)||"false"),n=JSON.parse(localStorage.getItem(u.names)||"{}");return n.you&&(p.value=n.you),n.partner&&(f.value=n.partner),{cats:e,surprise:t}}catch{return{cats:[],surprise:!1}}}function j(){const e=[...w.querySelectorAll(".chip.active")].map(t=>t.dataset.id);localStorage.setItem(u.categories,JSON.stringify(e)),localStorage.setItem(u.surprise,JSON.stringify(!!b.checked)),localStorage.setItem(u.names,JSON.stringify({you:p.value.trim(),partner:f.value.trim()}))}function ve(){const{cats:e,surprise:t}=ge();w.innerHTML="",C.forEach(n=>{const o=document.createElement("button");o.type="button",o.className="chip",o.textContent=n.label,o.dataset.id=n.id,(e.length===0||e.includes(n.id))&&o.classList.add("active"),o.addEventListener("click",()=>{o.classList.toggle("active"),w.querySelectorAll(".chip.active").length===0&&!b.checked&&o.classList.add("active"),j()}),w.appendChild(o)}),b.checked=!!t}function we(){const t=b.checked?C.map(o=>o.id):[...w.querySelectorAll(".chip.active")].map(o=>o.dataset.id);return{pool:t.flatMap(o=>y[o]||[]),activeIds:t}}function k(e){return e[Math.floor(Math.random()*e.length)]}function re(){const{pool:e,activeIds:t}=we();if(e.length===0){h.textContent="Select a category or enable Surprise mix ðŸŽ",s.textContent="â€”";return}const n=k(t),o=k(y[n]);h.textContent=Ee(o),s.textContent=be(n),Se(),Ie(),Pe()}function be(e){return(C.find(t=>t.id===e)||{}).label||e}function Se(){h.style.animation="none",h.offsetWidth,h.style.animation="popIn .35s ease"}function Ee(e){const t=p.value.trim()||"You",n=f.value.trim()||"your partner";return e.replaceAll("{you}",t).replaceAll("{partner}",n)}function ke(){const e=Math.floor(40+Math.random()*60);J.style.width="0%",Y.textContent="â€”%",requestAnimationFrame(()=>{setTimeout(()=>{J.style.width=e+"%",Y.textContent=e+"%"},30)})}function q(e){const t=new Date(e);return t.setHours(0,0,0,0),t.getTime()}function se(){try{const e=JSON.parse(localStorage.getItem(u.streak)||"0"),t=JSON.parse(localStorage.getItem(u.lastUsed)||"0");return{count:Number(e)||0,last:Number(t)||0}}catch{return{count:0,last:0}}}function Ce(e){localStorage.setItem(u.streak,JSON.stringify(e)),localStorage.setItem(u.lastUsed,JSON.stringify(Date.now()))}function Ie(){const{count:e,last:t}=se(),n=q(Date.now()),o=q(t||0);let a=e;t===0?a=1:n===o||(n-o===24*60*60*1e3?a=e+1:a=1),Ce(a),_.textContent=String(a)}function Le(){const{count:e,last:t}=se(),n=q(Date.now()),o=q(t||0);let a=e;e===0?a=0:n!==o&&(a=e),_.textContent=String(a||0)}function G(e){O.textContent=e,O.classList.add("show"),setTimeout(()=>O.classList.remove("show"),2600)}let T=0;const ie=["Whoa there, smooth operator. ðŸ˜","Not so fast â€” buy me dinner first. ðŸ","You call that a tap? Try again. ðŸ‘€","Hard to get? Me? Never. Okay, maybe a little. ðŸ˜‡"];function xe(){if(T===0){const e=V.querySelector(".intro-hi");e&&(e.style.display="none"),K.classList.add("highlight-comment")}K.textContent=ie[T%ie.length],T++,T>1&&(V.hidden=!0,z.hidden=!1)}function Be(){W.style.display="none"}function Ne(){W.style.display="none",document.querySelector("main").style.display="none",document.querySelector("header").style.display="none",document.querySelector("footer").style.display="none"}function qe(e){const t=e.target.closest("button.status");t&&(t.dataset.value,[...I.querySelectorAll("button.status")].forEach(n=>n.classList.remove("active")),t.classList.add("active"),D.disabled=!1)}function Te(){const e=I.querySelector("button.status.active");(e?e.dataset.value:"single")==="single"?(R.hidden=!0,Z.hidden=!1):(R.hidden=!0,ne.hidden=!1)}function Oe(){Z.hidden=!0,ne.hidden=!1}function Ae(){W.style.display="none",S.checked=!0,F(),setTimeout(()=>{document.getElementById("soloQuiz").scrollIntoView({behavior:"smooth"})},100)}function We(){P.innerHTML="",L.forEach(e=>{const t=document.createElement("div");t.className="rating-item";const n=document.createElement("label");n.textContent=e.label,n.className="rating-label";const o=document.createElement("div");o.className="slider-container";const a=document.createElement("input");a.type="range",a.min="1",a.max="10",a.value="5",a.className="rating-slider",a.dataset.trait=e.id;const d=document.createElement("span");d.className="rating-value",d.textContent="5",a.addEventListener("input",m=>{d.textContent=m.target.value}),o.appendChild(a),o.appendChild(d),t.appendChild(n),t.appendChild(o),P.appendChild(t)})}function ze(){const e={};return L.forEach(t=>{const n=P.querySelector(`[data-trait="${t.id}"]`);n&&(e[t.id]=parseInt(n.value))}),e}function Re(){var d,m;const e=ze(),t=document.getElementById("partnerName").value.trim()||"your partner";let n="";const o=Object.entries(e).filter(([i,l])=>l<=3),a=Object.entries(e).filter(([i,l])=>l>=8);if(o.length>0){const i=o[0][0],l=((d=L.find(g=>g.id===i))==null?void 0:d.label.split(" ")[0])||i;n=`Your ${t}'s ${l.toLowerCase()} level is... interesting. Let's work on that together! ðŸ˜…`}else if(a.length>0){const i=a[0][0],l=((m=L.find(g=>g.id===i))==null?void 0:m.label.split(" ")[0])||i;n=`Wow! Your ${t} is amazing at being ${l.toLowerCase()}. Tell me more about that! âœ¨`}else n=`Your ${t} seems pretty balanced. What's one thing you'd love to improve together? ðŸ’•`;document.querySelector(".rating-card").hidden=!0,document.querySelector(".spark-card").hidden=!1,document.getElementById("sparkText").textContent=n,document.getElementById("sparkCategory").textContent="Personalized ðŸ’"}function Me(e){console.log("handleGenderSelect called!");const t=e.target.closest("button.gender");if(!t)return;const n=t.dataset.value;console.log("Gender selected:",n),[...E.querySelectorAll("button.gender")].forEach(o=>o.classList.remove("active")),t.classList.add("active"),M.disabled=!1}function De(){const e=E.querySelector("button.gender.active"),t=e?e.dataset.value:"nosay";try{localStorage.setItem(pe,t)}catch{}if(t==="nosay"){const n=["If you can't even decide on your gender, how are you supposed to decide on a girlfriend? ðŸ¤”","Indecisive much? Good luck making relationship decisions! ðŸ˜","Can't pick a gender but expect to pick a partner? Bold strategy. ðŸ˜Œ","If you're this indecisive about gender, I can't imagine your dating life. ðŸ˜…","Prefer not to say? More like prefer not to commit. Classic. ðŸ˜Ž"],o=n[Math.floor(Math.random()*n.length)];ye.textContent=o,z.hidden=!0,me.hidden=!1}else z.hidden=!0,R.hidden=!1}function Pe(){(S.checked||!p.value.trim()&&!f.value.trim())&&G("Finallyâ€¦ someone as single as the creator. ðŸ¥²")}const $=[{id:"vibe",q:"Pick a vibe",options:["Chaotic cute","Calm and caring","Brainy and sarcastic","Wildcard energy"]},{id:"date",q:"Ideal date style",options:["Street food + long walk","Cozy movie fort","Museum + mock debate","Spontaneous road trip"]},{id:"superpower",q:"Attraction superpower",options:["Laugh that cures bad days","Hugs with 200% comfort","Wit sharp enough to slice bread","Eyes that say â€œbad idea, letâ€™s goâ€"]}];function le(){x.innerHTML="",ae.textContent="",B.disabled=!0,N.hidden=!0,$.forEach(({id:e,q:t,options:n})=>{const o=document.createElement("fieldset");o.className="quiz-q";const a=document.createElement("legend");a.textContent=t,o.appendChild(a),n.forEach((d,m)=>{const i=document.createElement("label");i.className="opt";const l=document.createElement("input");l.type="radio",l.name=e,l.value=String(m),i.appendChild(l);const g=document.createElement("span");g.textContent=d,i.appendChild(g),o.appendChild(i)}),x.appendChild(o)}),x.addEventListener("change",je,{once:!0})}function je(){x.addEventListener("change",()=>{const e=$.every(t=>!!document.querySelector(`input[name="${t.id}"]:checked`));B.disabled=!e})}function Ge(){const t=$.map(i=>Number((document.querySelector(`input[name="${i.id}"]:checked`)||{}).value)).reduce((i,l)=>i+l,0),n=["and yes, they will ignore your textsâ€¦ artistically.","and theyâ€™re probably allergic to commitment and also, gluten.","but they will mysteriously vanish when itâ€™s time to choose a restaurant.","and they will steal your fries without remorse."],o=["But hey, you're a catch â€” the right one will adore your chaos. ðŸ’–","Also, you're doing great. Love takes its time; keep shining. âœ¨","Solo today, iconic tomorrow. The right energy will match yours. ðŸ’ž"];let a;t<=2?a="Soft cinnamon roll with golden-retriever energy":t<=4?a="Calm brainiac with a spicy sarcasm core":t<=6?a="Adventure gremlin with a heart of chaos":a="Dangerously charming wildcard (handle with oven mitts)";const d=k(n),m=k(o);ae.textContent=`Your ideal type: ${a} â€” ${d} ${m}`,N.hidden=!1}function F(){const e=S.checked||!p.value.trim()&&!f.value.trim();fe.hidden=!e,e&&le()}const $e=["retired pirate who hoarded snacks instead of gold","dramatic poet who cried at sunsets and soup","medieval bread critic with very high standards","mysterious librarian who knew every secret but lost every bookmark","time-traveling DJ stuck on a lo-fi loop","royal napper, undefeated in pillow battles","undercover pigeon therapist","professional cloud watcher, part-time rainbow inspector"];function Fe(){if(!A.files||A.files.length===0){G("Upload a selfie first! ðŸ“¸");return}const e=A.files[0],t=new FileReader;t.onload=function(n){Q.src=n.target.result,Q.style.display="block";const o=k($e);he.textContent=`You were a ${o}. Science (not) confirmed.`},t.readAsDataURL(e)}c.addEventListener("click",re),v.addEventListener("click",re),de.addEventListener("click",ke),b.addEventListener("change",()=>{j()}),[p,f].forEach(e=>e.addEventListener("change",j)),S.addEventListener("change",()=>{S.checked&&G("Solo mode on. Itâ€™s just you and your stunning self. âœ¨"),F()}),ue.addEventListener("click",Fe),B&&B.addEventListener("click",Ge),N&&N.addEventListener("click",le),H&&H.addEventListener("click",xe),U&&U.addEventListener("click",Be),E?(console.log("Gender chips found, adding event listener"),E.addEventListener("click",Me),E.addEventListener("click",e=>{console.log("Any click detected on genderChips:",e.target)})):console.log("Gender chips NOT found!"),M&&M.addEventListener("click",De),X&&X.addEventListener("click",Ne),I&&I.addEventListener("click",qe),D&&D.addEventListener("click",Te),ee&&ee.addEventListener("click",Oe),te&&te.addEventListener("click",Ae),oe&&oe.addEventListener("click",Re),ve(),Le(),F(),We();const ce=document.createElement("style");ce.textContent="@keyframes popIn{0%{transform:translateY(4px) scale(.98); opacity:.0} 100%{transform:translateY(0) scale(1); opacity:1}}",document.head.appendChild(ce)})();
